<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Mecha-Ozzy AI Chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/static/images/cat1.ico" />
    <link rel="stylesheet" href="/static/style.css">

    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
    <!-- MathJax for LaTeX equation rendering -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      };
    </script>
    <script src="/static/chat.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <main class="chat-shell">
      <header class="chat-header">
        <div style="display: flex; align-items: center; gap: 8px;">
          <img src="/static/images/cat1.png" alt="Cat Icon" style="height: 32px; width: auto;">
          <div>
            <div class="chat-header-title">Mecha-Ozzy AI Chat</div>
            <div class="chat-header-sub">
              Conversation multiple LLM providers
            </div>
          </div>
        </div>
        <div style="display: flex; flex-direction: column; gap: 6px">
          <div class="model-select">
            <span>Model</span>
            <select id="model-select">
              <option value="gemini" selected>Gemini</option>
              <option value="openai-mini">OpenAI (GPT-4o-mini)</option>
              <option value="openai">OpenAI (GPT-4o)</option>
              <option value="openai-5-nano">OpenAI (GPT-5-nano)</option>
              <option value="deepseek">DeepSeek (OpenRouter)</option>
            </select>
          </div>
          <div class="status-pill">
            <span class="status-dot"></span>
            <span id="status-text">Ready</span>
          </div>
        </div>
      </header>

      <section id="chat-log" class="chat-log">
        <div class="msg-row assistant">
          <div class="msg-bubble">
            <div class="msg-meta">Gemini</div>
            <div>
              Hi! I'm Gemini. Ask me anything and I'll respond through your
              Flask service.
            </div>
          </div>
        </div>
      </section>

      <div class="helper-row">
        <span>Press Enter to send, Shift+Enter for a new line.</span>
        <span
          >Service status:
          <a href="/version" target="_blank" rel="noreferrer">/version</a></span
        >
      </div>

      <div id="image-input-container" class="image-input-container">
        <label class="image-input-label">
          ðŸ“· Select Image
          <input type="file" id="image-input" accept="image/*" />
        </label>
        <div id="image-preview" class="image-preview"></div>
      </div>
      <footer class="chat-input">
        <textarea
          id="chat-input"
          rows="1"
          placeholder="Type your message to Gemini..."
        ></textarea>
        <button id="send-btn" class="send-btn">Send</button>
      </footer>
    </main>
  </body>
</html>
